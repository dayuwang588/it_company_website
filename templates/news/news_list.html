
{% extends 'base.html' %}

{% block title %}{{ page_title }} - IT公司官网{% endblock %}

{% block content %}
<!-- 页面头部Banner -->
<section class="bg-primary text-white py-5">
    <div class="container">
        <h1 class="display-5">新闻动态</h1>
        <p class="lead">了解公司最新动态与行业前沿资讯</p>
    </div>
</section>

<!-- 新闻列表 -->
<section class="py-5">
    <div class="container">
        {% if news_list %}
            <div class="row g-4">
                {% for news in news_list %}
                    <div class="col-lg-6">
                        <div class="card shadow-sm h-100 hover-effect">
                            <div class="row g-0">
                                <!-- 新闻封面图 -->
                                <div class="col-md-4">
                                    {% if news.image %}
                                        <img src="{{ news.image.url }}" class="img-fluid rounded-start h-100 w-100 object-cover" alt="{{ news.title }}">
                                    {% else %}
                                        <div class="bg-light d-flex align-items-center justify-content-center h-100">
                                            <i class="fa fa-newspaper-o text-muted fa-3x"></i>
                                        </div>
                                    {% endif %}
                                </div>
                                <!-- 新闻信息 -->
                                <div class="col-md-8">
                                    <div class="card-body">
                                        <!-- 置顶标签 -->
                                        {% if news.is_top %}
                                            <span class="badge bg-danger mb-2">置顶</span>
                                        {% endif %}
                                        <h5 class="card-title">
                                            <a href="{% url 'news:news_detail' news.id %}" class="text-decoration-none text-dark">{{ news.title }}</a>
                                        </h5>
                                        <p class="card-text text-muted line-clamp-2">
                                            {{ news.content|truncatechars:80 }}
                                        </p>
                                        <p class="card-text">
                                            <small class="text-muted">
                                                <i class="fa fa-clock-o me-1"></i> {{ news.created_at|date:'Y-m-d' }}
                                            </small>
                                        </p>
                                    </div>
                                    <div class="card-footer bg-transparent">
                                        <a href="{% url 'news:news_detail' news.id %}" class="btn btn-outline-primary btn-sm">查看详情</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <!-- 无新闻时的提示 -->
            <div class="text-center py-5">
                <div class="mb-4">
                    <i class="fa fa-inbox text-muted fa-4x"></i>
                </div>
                <h4 class="text-muted">暂无新闻动态</h4>
                <p class="text-secondary">我们会及时更新公司资讯，敬请关注</p>
            </div>
        {% endif %}
    </div>
</section>

<!-- 自定义样式 -->
{% block extra_css %}
<style>
    .hover-effect:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
    }
    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    .object-cover {
        object-fit: cover;
    }
</style>
{% endblock %}
{% endblock %}