
{% extends 'base.html' %}

{% block title %}关于我们 - {{ about_info.title|default:'IT公司官网' }}{% endblock %}

{% block content %}
<!-- 页面头部banner -->
<section class="bg-primary text-white py-5">
    <div class="container">
        <h1 class="display-5">关于我们</h1>
        <p class="lead">深耕行业十余载，专注为企业提供优质IT解决方案</p>
    </div>
</section>

<!-- 公司简介板块 -->
<section class="py-5">
    <div class="container">
        <div class="row align-items-center">
            <!-- 左侧图片 -->
            <div class="col-lg-6 mb-4 mb-lg-0">
                {% if about_info and about_info.image %}
                    <img src="{{ about_info.image.url }}" class="img-fluid rounded shadow-lg" alt="{{ about_info.title }}">
                {% else %}
                    <div class="bg-light rounded shadow-lg d-flex align-items-center justify-content-center" style="height: 400px;">
                        <span class="text-muted fs-4">暂无公司简介图片</span>
                    </div>
                {% endif %}
            </div>
            <!-- 右侧简介内容 -->
            <div class="col-lg-6">
                <h2 class="mb-4">{{ about_info.title|default:'公司简介' }}</h2>
                {% if about_info %}
                    <div class="content text-muted fs-5 line-height-2">
                        {{ about_info.content|linebreaksbr }}
                    </div>
                {% else %}
                    <p class="text-muted fs-5">暂无公司简介信息，我们正在完善中...</p>
                {% endif %}
                <a href="{% if about_info %}{% url 'about:about_detail' about_info.id %}{% else %}#{% endif %}" class="btn btn-primary mt-4">
                    查看更多 <i class="fa fa-arrow-right ms-2"></i>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- 发展历程板块 -->
<section class="py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-5">发展历程</h2>
        
        {% if history_list %}
            <div class="timeline">
                {% for history in history_list %}
                    <div class="timeline-item mb-5">
                        <div class="row">
                            <!-- 年份标识 -->
                            <div class="col-md-2 text-center mb-3 mb-md-0">
                                <div class="timeline-year bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px; font-size: 20px; font-weight: bold;">
                                    {{ history.year }}
                                </div>
                            </div>
                            <!-- 历程内容 -->
                            <div class="col-md-10">
                                <div class="card shadow-sm h-100">
                                    <div class="card-body">
                                        <h4 class="card-title">{{ history.title }}</h4>
                                        <p class="card-text text-muted">{{ history.desc|linebreaksbr }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="text-center py-5">
                <h4 class="text-muted">暂无发展历程信息</h4>
                <p class="text-secondary">我们的成长故事正在续写，敬请期待</p>
            </div>
        {% endif %}
    </div>
</section>

<!-- 自定义样式 -->
{% block extra_css %}
<style>
    .line-height-2 {
        line-height: 2;
    }
    .timeline-item:not(:last-child)::after {
        content: '';
        position: absolute;
        left: 88px;
        top: 80px;
        bottom: -30px;
        width: 2px;
        background-color: #0d6efd;
        z-index: -1;
    }
    .timeline-item {
        position: relative;
    }
</style>
{% endblock %}
{% endblock %}